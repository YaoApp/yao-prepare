{
  "STRUCT": {
    "PasswordLogin": [{ "field": "mobile" }, { "field": "password" }],
    "SMSLogin": [
      { "field": "mobile" },
      { "name": "smscode", "comment": "短信验证码", "type": "string" }
    ],
    "SMSCode": [
      { "field": "mobile" },
      { "name": "imgcode", "comment": "图形验证码", "type": "string" }
    ],
    "LoginResp": [
      { "alias": "model://user", "exclude": ["password"] },
      { "name": "loginat", "comment": "登录时刻" }
    ],
    "Qrcode": [
      { "name": "qrcode", "comment": "二维码正文", "type": "string" },
      { "name": "timeout", "comment": "过期时间", "type": "timestamp" }
    ],
    "WechatCB": [
      { "field": "openid", "from": "struct://common/fields:User" },
      { "field": "unionid", "from": "struct://common/fields:User" },
      { "name": "nickname" },
      { "field": "mobile" }
    ],
    "WeworkCB": [
      { "field": "openid", "from": "struct://common/fields:User" },
      { "field": "unionid", "from": "struct://common/fields:User" },
      { "name": "nickname" },
      { "field": "mobile" }
    ],
    "DingtalkCB": [
      { "field": "openid", "from": "struct://common/fields:User" },
      { "field": "unionid", "from": "struct://common/fields:User" },
      { "name": "nickname" },
      { "field": "mobile" }
    ]
  },
  "GET": {
    "/info": {
      "function": "Info",
      "description": "查询当前登录用户资料",
      "response": {
        "success": "LoginResp",
        "failure": "struct://common/fields:Error"
      }
    },
    "/qrcode/wechat": {
      "function": "QrcodeWechat",
      "description": "查询微信登录二维码",
      "response": {
        "success": "Qrcode",
        "failure": "struct://common/fields:Error"
      }
    },
    "/qrcode/wework": {
      "function": "QrcodeWework",
      "description": "查询企业微信登录二维码",
      "payload": [{ "name": "corpid", "comment": "企业ID", "type": "string" }],
      "response": {
        "success": "Qrcode",
        "failure": "struct://common/fields:Error"
      }
    },
    "/qrcode/dingtalk": {
      "function": "QrcodeDingtalk",
      "description": "查询钉钉登录二维码",
      "payload": [{ "name": "corpid", "comment": "企业ID", "type": "string" }],
      "response": {
        "success": "Qrcode",
        "failure": "struct://common/fields:Error"
      }
    }
  },
  "POST": {
    "/send/sms": {
      "function": "SendSMS",
      "description": "发送手机验证码",
      "payload": "SMSCode",
      "response": {
        "failure": "struct://common/fields:Error"
      }
    },
    "/login/password": {
      "function": "LoginPassword",
      "description": "手机号密码登录",
      "payload": "PasswordLogin",
      "response": {
        "success": "LoginResp",
        "failure": "struct://common/fields:Error"
      }
    },
    "/login/sms": {
      "function": "LoginSMS",
      "description": "短信登录",
      "payload": "SMSLogin",
      "response": {
        "success": "LoginResp",
        "failure": "struct://common/fields:Error"
      }
    },
    "/login/wechat": {
      "function": "LoginWechat",
      "description": "微信扫码登录",
      "payload": "WechatCB",
      "response": {
        "success": "LoginResp",
        "failure": "struct://common/fields:Error"
      }
    },
    "/login/wework/{:corpid}": {
      "function": "LoginWework",
      "description": "企业微信扫码登录",
      "path": [{ "name": "corpid", "comment": "企业ID", "type": "string" }],
      "payload": "WeworkCB",
      "response": {
        "success": "LoginResp",
        "failure": "struct://common/fields:Error"
      }
    },
    "/login/dingtalk": {
      "function": "LoginDingtalk",
      "description": "钉钉扫码登录",
      "query": [{ "name": "corpid", "comment": "企业ID", "type": "string" }],
      "payload": "DingtalkCB",
      "response": {
        "success": "LoginResp",
        "failure": "struct://common/fields:Error"
      }
    }
  }
}
